alias: log climate changes to slack
id: 10f39381-28b1-427e-aec4-fb46bbf630a0
mode: parallel
trigger:
  platform: state
  entity_id: climate.upstairs, climate.downstairs
action:
  service: notify.slack
  data:
    title: ':thermometer:'
    message: |
      {% set old_state = trigger.from_state %}
      {% set new_state = trigger.to_state %}
      *{{ new_state.name | capitalize }}* is currently *_{{ state_attr(new_state.entity_id, 'current_temperature') }}{{ state_attr(new_state.entity_id, 'unit_of_measurement') }}_*, set to *_{{ state_attr(new_state.entity_id, 'temperature') }}{{ state_attr(new_state.entity_id, 'unit_of_measurement') }}_* in *_{{ new_state.state }}_* mode
