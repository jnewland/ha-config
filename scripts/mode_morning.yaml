sequence:
  - service: input_select.select_option
    data:
      entity_id: input_select.mode
      option: Morning
  - service: light.turn_off
    entity_id: group.master
  - service: input_number.set_value
    data:
      entity_id: input_number.brightness
      value: 255
  - service: light.turn_on
    entity_id:
      - light.cabinets_14
  - service: media_player.turn_off
    entity_id:
      - media_player.master_bedroom_speakers
      - media_player.master_bathroom_speakers
  - service: media_player.turn_on
    entity_id:
      - media_player.living_speakers
      - media_player.kitchen_speakers
  - service: alarm_control_panel.alarm_disarm
    entity_id: alarm_control_panel.alarm
  - condition: template
    value_template: '{{ states.device_tracker.jphone_x.state != "not_home" }}'
  - service: notify.ios_jphone_x
    data_template:
      message: |
        {{ states.weather.dark_sky.attributes.hourly_forecast_summary }}
  - service: script.turn_on
    entity_id: script.notify_about_battery_maintenance
  - condition: template
    value_template: |
      {{ not is_state("binary_sensor.upstairs_roomba_on_dock", "on") }}
  - service: notify.ios_jphone_x
    data_template:
      message: |
        {% if is_state("binary_sensor.upstairs_roomba_on_dock", "off") %}
        The upstairs roomba's not on the dock, btw. Help a robot out?
        {% endif %}
        {% if is_state("sensor.upstairs_roomba_state", "unavailable") %}
        The upstairs roomba's adrift. Help a robot out?
        {% endif %}
        {% if is_state_attr("vacuum.downstairs_roomba", "status", Charging) %}
        {% if is_state_attr("vacuum.downstairs_roomba", "bin_full", True) %}
        The downstairs roomba's bin is full. Help a robot out?
        {% endif %}
        {% else %}
        The downstairs roomba's not on the dock. Help a robot out?
        {% endif %}
- service: climate.set_temperature
  entity_id:  climate.upstairs_28
  temperature: 74
