name: Rancho de Newland
views:
  - title: Home
    icon: mdi:home
    theme: dark-mode
    cards:
      - type: picture-glance
        camera_image: camera.front_yard_left
        entities:
          - input_select.mode
          - alarm_control_panel.alarm
          - lock.front_door
          - binary_sensor.front_gate
          - input_number.brightness
          - vacuum.downstairs
          - light.front_porch
      - type: conditional
        conditions:
          - entity: input_boolean.winterized
            state: "on"
        card:
          type: entities
          entities:
            - input_boolean.winterized
            - weather.dark_sky
            - binary_sensor.freeze_forecast
      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.pergola
      - type: picture-glance
        camera_image: camera.atrium
        entities:
          - light.bamboo

      - type: picture-glance
        camera_image: camera.gate
        entities:
          - cover.gate
          - light.garage_door
      - type: picture-glance
        camera_image: camera.garage
        entities:
          - cover.garage
          - lock.garage
      - type: picture-glance
        camera_image: camera.back_porch
        entities:
          - switch.back_porch
          - switch.back_porch_fountain
          - switch.bug_zapper
          - lock.back_porch

      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.dogs

      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.front_yard_left_person

      - type: weather-forecast
        entity: weather.dark_sky
      - type: picture
        image: https://radblast.wunderground.com/cgi-bin/radar/WUNIDS_map?station=GRK&brand=wui&num=10&delay=25&type=N0R&frame=0&scale=1&noclutter=0&showstorms=99&mapx=400&mapy=240&centerx=400&centery=240&transx=0&transy=0&showlabels=1&severe=1&rainsnow=1&lightning=1&smooth=1&rand=24691285&lat=0&lon=0&label=you
      - type: map
        entities:
          - device_tracker.jphone_12
          - device_tracker.katie_s_iphone
        hours_to_show: 24

  - title: Great Room
    icon: mdi:sofa
    cards:
      - type: entities
        title: great room
        entities:
          - light.cabinets
          - light.kitchen
          - light.pendants
          - light.dining_room_table
          - binary_sensor.kitchen_motion
          - light.pantry
          - binary_sensor.pantry_motion
          - light.living
          - light.couch_lamp_right
          - light.couch_lamp_left
          - binary_sensor.living_room_motion
          - binary_sensor.great_room_occupied
          - sensor.kitchen_temp
        footer:
          type: graph
          entity: sensor.kitchen_temp
          hours_to_show: 36
          detail: 2

  - title: Lounge
    icon: mdi:television-classic
    cards:
      - type: entities
        title: lounge
        entities:
          - light.lounge_overhead
          - light.lounge_chandelier
          - light.exercise_bike
          - binary_sensor.lounge_motion
          - sensor.lounge_temp
        footer:
          type: graph
          entity: sensor.lounge_temp
          hours_to_show: 36
          detail: 2
      - type: media-control
        entity: media_player.office
      - type: media-control
        entity: media_player.lounge_channels
      - type: entities
        title: guest
        entities:
          - light.guest_hall
          - light.guest_bath
          - light.guest_shower
          - binary_sensor.guest_bath_motion
          - binary_sensor.guest_hall_motion
          - sensor.guest_bath_temp
        footer:
          type: graph
          entity: sensor.guest_bath_temp
          hours_to_show: 36
          detail: 2

  - title: Music Room
    icon: mdi:guitar-pick
    cards:
      - type: entities
        title: music room
        entities:
          - light.bookshelf
          - light.striped_lamp
          - light.music_room_haiku_light
          - light.network_closet
          - fan.music_room_haiku
          - binary_sensor.music_room_haiku_occupancy
          - binary_sensor.music_room_motion
          - binary_sensor.music_room_window
          - sensor.music_room_temp
          - binary_sensor.bookshelf_active
          - binary_sensor.bookshelf_camera_in_use
          - sensor.bookshelf_frontmost_app
        footer:
          type: graph
          entity: sensor.music_room_temp
          hours_to_show: 36
          detail: 2
      - type: entities
        show_header_toggle: false
        entities:
          - automation.change_channel_to_streams_with_detected_objects
      - type: media-control
        entity: media_player.music_room
      - type: media-control
        entity: media_player.music_room_channels

  - title: Yoga Studio
    icon: mdi:yoga
    cards:
      - type: entities
        title: yoga studio
        entities:
          - light.yoga_room
          - light.marble_lamp
          - light.yoga_closet
          - binary_sensor.yoga_room_motion
          - sensor.yoga_room_temp
        footer:
          type: graph
          entity: sensor.yoga_room_temp
          hours_to_show: 36
          detail: 2

  - title: Upstairs
    icon: mdi:bed
    cards:
      - type: entities
        title: bedroom
        entities:
          - light.chandelier
          - light.chandelier_lamp
          - light.master_overhead
          - light.master_nook
          - light.master_windows
          - light.bedside_lamp
          - light.bedside_table
          - light.master_patio
          - light.master_closet
          - binary_sensor.closet_motion
          - binary_sensor.master_door
      - type: entities
        title: bath
        entities:
          - light.master_bath_overhead
          - light.master_shower
          - light.master_mirror
          - light.master_toilet
          - switch.master_bath_fan
          - binary_sensor.master_bath_motion
          - sensor.master_bath_temp
        footer:
          type: graph
          entity: sensor.master_bath_temp
          hours_to_show: 36
          detail: 2
      - type: media-control
        entity: media_player.bedroom
      - type: media-control
        entity: media_player.bedroom_channels

  - title: Outdoor
    icon: mdi:tree
    cards:
      - type: entities
        title: back porch
        entities:
          - switch.back_porch
          - switch.back_porch_fountain
          - switch.bug_zapper
          - light.ac
          - lock.back_porch
      - type: entities
        title: atrium
        entities:
          - light.bamboo
          - light.atrium
          - light.atrium_door
          - light.garage_door
          - switch.atrium_fountain
          - lock.garage
          - cover.garage
          - cover.gate
      - type: entities
        title: front porch
        entities:
          - light.front_porch
          - light.front_door
          - binary_sensor.front_gate
      - type: entities
        title: patio
        entities:
          - light.patio
          - light.master_patio
      - type: entities
        entities:
          - binary_sensor.front_gate
          - cover.garage
          - cover.gate

  - title: Cameras
    icon: mdi:video
    cards:
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.front_yard_left
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.pergola
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.atrium
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.gate
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.back_porch
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.garage
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.ac
      - type: picture-entity
        camera_view: live
        show_name: false
        show_state: false
        entity: camera.dogs

      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.front_yard_left_person
      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.pergola_person
      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.atrium_person

      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.back_porch_person
      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.gate_person
      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.garage_person
      - type: picture-entity
        show_name: false
        show_state: false
        entity: camera.ac_person

      - type: custom:auto-entities
        show_header_toggle: false
        show_empty: false
        sort:
          method: name
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/sensor..*_person$/"
            - entity_id: "/sensor..*_dog$/"
      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/_occupancy/"
      - type: custom:auto-entities
        show_header_toggle: false
        show_empty: false
        sort:
          method: name
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/sensor..*_camera_fps$/"
      - type: custom:auto-entities
        show_header_toggle: false
        show_empty: false
        sort:
          method: name
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/sensor..*_detection_fps$/"
      - type: custom:auto-entities
        show_header_toggle: false
        show_empty: false
        sort:
          method: name
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/sensor..*_process_fps$/"
      - type: custom:auto-entities
        show_header_toggle: false
        show_empty: false
        sort:
          method: name
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/sensor..*_skipped_fps$/"

  - title: Record player
    path: record-player
    icon: mdi:record-player
    cards:
      - type: media-control
        entity: media_player.record_cabinet
      - type: custom:auto-entities
        show_empty: false
        sort:
          method: id
        card:
          type: entities
          show_header_toggle: false
        filter:
          include:
            - entity_id: "/media_player..*_output_.*/"
      - type: entities
        show_header_toggle: false
        entities:
          - input_datetime.wake_up
      - type: entities
        show_header_toggle: false
        entities:
          - light.record_cabinet_left
          - light.record_cabinet_right

  - title: Speakers
    icon: mdi:speaker
    cards:
      - type: media-control
        entity: media_player.atrium_speakers
      - type: media-control
        entity: media_player.kitchen_speakers
      - type: media-control
        entity: media_player.living_speakers
      - type: media-control
        entity: media_player.master_bathroom_speakers
      - type: media-control
        entity: media_player.master_bedroom_speakers
      - type: media-control
        entity: media_player.patio_speakers

  - title: Climate
    icon: mdi:temperature-fahrenheit
    cards:
      - type: thermostat
        entity: climate.downstairs
      - type: thermostat
        entity: climate.upstairs

      - type: entities
        show_header_toggle: false
        entities:
          - automation.upstairs_ac
          - automation.upstairs_heat
          - automation.upstairs_reading
          - automation.upstairs_sleeping
          - automation.upstairs_morning_climate_reset

      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/^sensor.*_temperature/"

      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/^sensor.*_humidity/"

      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/^sensor.*_temp$/"
          exclude:
            - entity_id: sensor.wine_room_temp

      - type: history-graph
        hours_to_show: 72
        entities:
          - sensor.wine_room_temp

      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 72
        filter:
          include:
            - entity_id: "/^sensor.*_light$/"

  - title: Greenhouse
    path: greenhouse
    icon: mdi:shovel
    cards:
      # - type: entities
      #   title: Greenhouse lights
      #   show_header_toggle: false
      #   entities:
      #     - automation.greenhouse_led_automation
      #     - switch.greenhouse_left
      #     - switch.greenhouse_right
      #     - input_datetime.greenhouse_led_on
      #     - input_datetime.greenhouse_led_off
      #   footer:
      #     type: graph
      #     entity: sensor.angel_trumpet_light
      #     hours_to_show: 80
      #     detail: 2
      # - type: entities
      #   title: Kitchen herb garden
      #   show_header_toggle: false
      #   entities:
      #     - light.kitchen_light
      #     - binary_sensor.kitchen_pump
      #     - binary_sensor.kitchen_needs_nutrients
      #     - binary_sensor.kitchen_needs_water
      #     - sensor.kitchen_nutrients_days
      #     - sensor.kitchen_planted_days
      - type: custom:auto-entities
        card:
          type: entities
          show_header_toggle: false
          title: Irrigation
        filter:
          include:
            - entity_id: "/.*_zone$/"
            - entity_id: "/.*_program$/"
            - entity_id: "/.*_rain_delay$/"

      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 80
        filter:
          include:
            - entity_id: "/.*_zone$/"
            
      - type: history-graph
        title: light
        hours_to_show: 80
        entities:
          - sensor.angel_trumpet_light
          - sensor.bamboo_light
          - sensor.herb_light
          - sensor.lime_tree_light
      - type: history-graph
        title: moisture
        hours_to_show: 80
        entities:
          - sensor.angel_trumpet_moisture
          - sensor.bamboo_moisture
          - sensor.herb_moisture
          - sensor.lime_tree_moisture
      - type: history-graph
        title: temperature
        hours_to_show: 80
        entities:
          - sensor.angel_trumpet_temperature
          - sensor.bamboo_temperature
          - sensor.herb_temperature
          - sensor.lime_tree_temperature
      - type: history-graph
        title: soil conductivity
        hours_to_show: 80
        entities:
          - sensor.angel_trumpet_soil_conductivity
          - sensor.bamboo_soil_conductivity
          - sensor.herb_soil_conductivity
          - sensor.lime_tree_soil_conductivity
      - type: custom:flower-card
        entity: plant.lime_tree
      - type: custom:flower-card
        entity: plant.bamboo
      - type: custom:flower-card
        entity: plant.angel_trumpet
  - title: Core
    icon: mdi:server-network
    cards:
      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 12
        filter:
          include:
            - entity_id: "/ups_/"

      - type: custom:auto-entities
        show_empty: false
        sort:
          method: id
        card:
          type: glance
          title: nas
        filter:
          include:
            - entity_id: "/diskstation/"
      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 80
        filter:
          include:
            - entity_id: "/diskstation/"
      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 80
        filter:
          include:
            - entity_id: "/dcp_l2540dw/"

  - title: Lights
    icon: mdi:lightbulb
    cards:
      - type: custom:auto-entities
        show_empty: false
        sort:
          method: name
        card:
          type: entities
          title: lights on
          show_header_toggle: false
        filter:
          include:
            - domain: light
          exclude:
            - entity_id: "/_[0-9]+$/"
            - state: "off"
            - state: "unavailable"
      - type: custom:auto-entities
        sort:
          method: name
        show_empty: false
        card:
          type: entities
          title: lights off
        filter:
          include:
            - domain: light
              state: "off"
              options:
                tap_action:
                  action: toggle
          exclude:
            - entity_id: "/_[0-9]+$/"

  - title: Batteries
    icon: mdi:battery
    cards:
      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 80
        filter:
          include:
            - entity_id: "/.*battery_level/"
      - type: custom:entity-attributes-card
        heading_name: Sensor
        heading_state: Battery level
        name_attribute: friendly_name
        filter:
          include:
            - lock.front_door.battery_level
            - lock.back_door.battery_level
            - lock.garage.battery_level
            - switch.front_door.battery_level
            - switch.front_gate.battery_level
            - switch.master_door.battery_level
            - switch.master_ac_water.battery_level
            - binary_sensor.closet_motion.battery_level
            - switch.garage_hall_motion.battery_level
            - switch.guest_hall_motion.battery_level
            - switch.guest_bath_motion.battery_level
            - switch.great_hall_motion.battery_level
            - switch.kitchen_motion.battery_level
            - switch.lounge_motion.battery_level
            - switch.master_bath_motion.battery_level
            - switch.music_room_motion.battery_level
            - switch.pantry_motion.battery_level
            - switch.powder_room_motion.battery_level
            - switch.stairs_motion.battery_level
            - switch.upstairs_motion.battery_level
            - switch.wine_room_motion.battery_level
            - switch.yoga_room_motion.battery_level
            - vacuum.downstairs980.battery_level

  - title: Car
    icon: mdi:car-estate
    path: car
    cards:
      - type: custom:auto-entities
        show_empty: false
        sort:
          method: id
        card:
          type: glance
          title: xc60
        filter:
          include:
            - entity_id: "/xc60/"

  - title: Settings
    icon: mdi:cog
    cards:
      - type: entities
        title: settings
        show_header_toggle: false
        entities:
          - input_boolean.guests
          - automation.away_mode
          - vacuum.downstairs980
      - type: entities
        entities:
          - sensor.current_version
          - binary_sensor.updater
          - sensor.config_sha
          - sensor.latest_deployment_sha
          - script.deploy
      - type: custom:auto-entities
        show_empty: false
        sort:
          method: id
        card:
          type: glance
          title: unconfigured
        filter:
          include:
            - entity_id: "/_[0-9]+$/"
          exclude:
            - entity_id: "*_sim_*"
      - type: history-graph
        title: history
        hours_to_show: 80
        entities:
          - counter.light_automations
          - counter.errors
          - input_select.mode
          - binary_sensor.together
          - device_tracker.jphone_12
          - sensor.jphone_12_battery_state
          - device_tracker.katie_s_iphone
          - sensor.katie_s_iphone_battery_state
          - sensor.laundry_power
          - binary_sensor.laundry
          - sun.sun
          - weather.dark_sky
      - type: custom:auto-entities
        card:
          type: history-graph
          hours_to_show: 72
          title: motion
        filter:
          include:
            - entity_id: "/^binary_sensor.*_motion$/"
